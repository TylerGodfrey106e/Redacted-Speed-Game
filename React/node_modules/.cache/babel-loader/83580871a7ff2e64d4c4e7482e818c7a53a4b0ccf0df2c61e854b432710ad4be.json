{"ast":null,"code":"var _jsxFileName = \"/Users/jess/Desktop/Final_Project/Redacted_Speed_Game/React/src/components/GameData.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport Card from './Card';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GameData() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [selectedMessage, setSelectedMessage] = useState('');\n  const messagesRef = useRef(null);\n  const wsRef = useRef(null);\n  useEffect(() => {\n    messagesRef.current.scrollTop = messagesRef.current.scrollHeight;\n    wsRef.current = new WebSocket('ws://localhost:6969');\n    wsRef.current.onopen = () => console.log('Connection opened!');\n    wsRef.current.onmessage = async event => showMessage(event.data);\n    wsRef.current.onclose = () => {\n      wsRef.current = null;\n    };\n    return () => {\n      if (wsRef.current) {\n        wsRef.current.close();\n      }\n    };\n  }, []);\n  const showMessage = async message => {\n    if (typeof message !== 'string') {\n      try {\n        message = await message.text();\n      } catch (error) {\n        console.error('Error converting Blob to text:', error);\n        return;\n      }\n    }\n    setMessages(prevMessages => [...prevMessages, message]);\n  };\n  const sendMessage = () => {\n    if (!wsRef.current) {\n      showMessage('No WebSocket connection.');\n      return;\n    }\n    wsRef.current.send(selectedMessage);\n    showMessage(selectedMessage);\n    setSelectedMessage('');\n  };\n  const handleSelectChange = event => {\n    setSelectedMessage(event.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Real Time Messaging\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      id: \"messages\",\n      style: {\n        height: '400px',\n        overflow: 'scroll'\n      },\n      ref: messagesRef,\n      children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [index > 0 && '\\n\\n', message]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"messageBox\",\n      value: selectedMessage,\n      onChange: handleSelectChange,\n      style: {\n        display: 'block',\n        width: '100%',\n        marginBottom: '10px',\n        padding: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select a message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Hello\",\n        children: \"Hello\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Good game\",\n        children: \"Good game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Let's start\",\n        children: \"Let's start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Let's Play Speed Classic\",\n        children: \"Let's Play Speed Classic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Let's Play California Speed\",\n        children: \"Let's Play California Speed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Bye\",\n        children: \"Bye\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"send\",\n      title: \"Send Message!\",\n      style: {\n        width: '100%',\n        height: '30px'\n      },\n      onClick: sendMessage,\n      disabled: !selectedMessage,\n      children: \"Send Message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n_s(GameData, \"eU8tixM+f6gH9gN126UvXX3+JOc=\");\n_c = GameData;\n;\nvar _c;\n$RefreshReg$(_c, \"GameData\");","map":{"version":3,"names":["React","Card","jsxDEV","_jsxDEV","GameData","_s","messages","setMessages","useState","selectedMessage","setSelectedMessage","messagesRef","useRef","wsRef","useEffect","current","scrollTop","scrollHeight","WebSocket","onopen","console","log","onmessage","event","showMessage","data","onclose","close","message","text","error","prevMessages","sendMessage","send","handleSelectChange","target","value","children","fileName","_jsxFileName","lineNumber","columnNumber","id","style","height","overflow","ref","map","index","Fragment","onChange","display","width","marginBottom","padding","title","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/jess/Desktop/Final_Project/Redacted_Speed_Game/React/src/components/GameData.js"],"sourcesContent":["import React from 'react';\nimport Card from './Card'\n\nexport default function GameData() {\n    const [messages, setMessages] = useState([]);\n    const [selectedMessage, setSelectedMessage] = useState('');\n    const messagesRef = useRef(null);\n    const wsRef = useRef(null);\n\n    useEffect(() => {\n        messagesRef.current.scrollTop = messagesRef.current.scrollHeight;\n\n        wsRef.current = new WebSocket('ws://localhost:6969');\n        wsRef.current.onopen = () => console.log('Connection opened!');\n        wsRef.current.onmessage = async (event) => showMessage(event.data);\n        wsRef.current.onclose = () => {\n            wsRef.current = null;\n        };\n\n        return () => {\n            if (wsRef.current) {\n                wsRef.current.close();\n            }\n        };\n    }, []);\n\n    const showMessage = async (message) => {\n        if (typeof message !== 'string') {\n            try {\n                message = await message.text();\n            } catch (error) {\n                console.error('Error converting Blob to text:', error);\n                return;\n            }\n        }\n\n        setMessages((prevMessages) => [...prevMessages, message]);\n    };\n\n    const sendMessage = () => {\n        if (!wsRef.current) {\n            showMessage('No WebSocket connection.');\n            return;\n        }\n\n        wsRef.current.send(selectedMessage);\n        showMessage(selectedMessage);\n        setSelectedMessage('');\n    };\n\n    const handleSelectChange = (event) => {\n        setSelectedMessage(event.target.value);\n    };\n\n    return (\n        <div>\n            <h1>Real Time Messaging</h1>\n            <pre\n                id=\"messages\"\n                style={{ height: '400px', overflow: 'scroll' }}\n                ref={messagesRef}\n            >\n        {messages.map((message, index) => (\n            <React.Fragment key={index}>\n                {index > 0 && '\\n\\n'}\n                {message}\n            </React.Fragment>\n        ))}\n      </pre>\n            <select\n                id=\"messageBox\"\n                value={selectedMessage}\n                onChange={handleSelectChange}\n                style={{\n                    display: 'block',\n                    width: '100%',\n                    marginBottom: '10px',\n                    padding: '10px',\n                }}\n            >\n                <option value=\"\">Select a message</option>\n                <option value=\"Hello\">Hello</option>\n                <option value=\"Good game\">Good game</option>\n                <option value=\"Let's start\">Let's start</option>\n                <option value=\"Let's Play Speed Classic\">Let's Play Speed Classic</option>\n                <option value=\"Let's Play California Speed\">Let's Play California Speed</option>\n                <option value=\"Bye\">Bye</option>\n            </select>\n            <button\n                id=\"send\"\n                title=\"Send Message!\"\n                style={{ width: '100%', height: '30px' }}\n                onClick={sendMessage}\n                disabled={!selectedMessage}\n            >\n                Send Message\n            </button>\n        </div>\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}